<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setting up a lab environment for practicing Ansible Lightspeed commands :: Interacting with Ansible Lightspeed</title>
    <link rel="prev" href="hands-on-labs-with-ansible-lightspeed.html">
    <link rel="next" href="installing-necessary-software-packages-ansible-rhel.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Interacting with Ansible Lightspeed</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/course-starter-template/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rcb-demo-1" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Interacting with Ansible Lightspeed</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../basics-of-ansible-lightspeed/basics-of-ansible-lightspeed.html">Basics of Ansible Lightspeed</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics-of-ansible-lightspeed/understanding-the-core-concepts-of-ansible-and-its-integration-with-rhel.html">Understanding the core concepts of Ansible and its integration with RHEL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics-of-ansible-lightspeed/exploring-key-features-and-benefits-of-using-ansible-for-system-management.html">Exploring key features and benefits of using Ansible for system management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics-of-ansible-lightspeed/setting-up-and-configuring-a-basic-ansible-environment-for-rhel-systems.html">Setting up and configuring a basic Ansible environment for RHEL systems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics-of-ansible-lightspeed/learning-about-the-role-of-ansible-lightspeed-in-automating-and-streamlining-tasks.html">Learning about the role of Ansible Lightspeed in automating and streamlining tasks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="hands-on-labs-with-ansible-lightspeed.html">Hands-on Labs with Ansible Lightspeed</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="setting-up-a-lab-environment-for-practicing-ansible-lightspeed-commands.html">Setting up a lab environment for practicing Ansible Lightspeed commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="installing-necessary-software-packages-ansible-rhel.html">Installing necessary software packages (Ansible, RHEL)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-network-settings-for-controlled-testing.html">Configuring network settings for controlled testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="creating-simple-ansible-playbooks-for-managing-rhel-systems.html">Creating simple Ansible playbooks for managing RHEL systems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="writing-basic-tasks-for-installing-software-and-configuring-services.html">Writing basic tasks for installing software and configuring services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="running-ansible-lightspeed-commands-to-automate-system-management.html">Running Ansible Lightspeed commands to automate system management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-lightspeed-features-like-recommendations-and-remediation.html">Using Lightspeed features like recommendations and remediation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validating-and-troubleshooting-ansible-playbook-executions.html">Validating and troubleshooting Ansible playbook executions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="identifying-common-issues-and-learning-resolution-strategies.html">Identifying common issues and learning resolution strategies</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Interacting with Ansible Lightspeed</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Interacting with Ansible Lightspeed</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Interacting with Ansible Lightspeed</a></li>
    <li><a href="hands-on-labs-with-ansible-lightspeed.html">Hands-on Labs with Ansible Lightspeed</a></li>
    <li><a href="setting-up-a-lab-environment-for-practicing-ansible-lightspeed-commands.html">Setting up a lab environment for practicing Ansible Lightspeed commands</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Setting up a lab environment for practicing Ansible Lightspeed commands</h1>
<div class="sect1">
<h2 id="_hands_on_labs_with_ansible_lightspeed"><a class="anchor" href="#_hands_on_labs_with_ansible_lightspeed"></a>Hands-on Labs with Ansible Lightspeed</h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>In this section, we&#8217;ll set up a practical lab environment where you can familiarize yourself with Ansible Lightspeed commands and learn how to use them for automating system management tasks on Red Hat Enterprise Linux (RHEL) systems.</p>
</div>
<div class="paragraph">
<p><strong>Prerequisites</strong></p>
</div>
<div class="paragraph">
<p>Before proceeding with the hands-on lab activities, ensure that you have access to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A RHEL server or virtual machine for testing.</p>
</li>
<li>
<p>An Ansible control node (can be a separate RHEL machine or your local development environment).</p>
</li>
<li>
<p>Basic knowledge of RHEL and command-line interfaces.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Installing necessary software packages</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Update your RHEL system</strong>: Start by updating your RHEL system to the latest packages. Open a terminal and run:</p>
<div class="literalblock">
<div class="content">
<pre>```
sudo yum update -y
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Install Ansible on control node</strong>: Install Ansible on your control node (which could be another RHEL machine or your local development environment). For this example, let&#8217;s assume you are installing it on the same RHEL server where you&#8217;re planning to manage other systems:</p>
<div class="literalblock">
<div class="content">
<pre>```
sudo yum install -y ansible
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Install additional packages for Ansible Lightspeed</strong>: For using Ansible Lightspeed features, install the following packages:</p>
<div class="literalblock">
<div class="content">
<pre>```
sudo yum install -y openstack-ansible-lightspeed
```</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Configuring network settings</strong></p>
</div>
<div class="paragraph">
<p>To ensure controlled testing in your lab environment, you might want to configure a private network or use virtual machines and adjust firewall rules as necessary. Here&#8217;s an example using <code>firewalld</code>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the required ports for Ansible communication:</p>
<div class="literalblock">
<div class="content">
<pre>```
sudo firewall-cmd --permanent --add-service=ansible
sudo firewall-cmd --reload
```</pre>
</div>
</div>
</li>
<li>
<p>(Optional) If you&#8217;re using virtual machines, configure the network settings to isolate your lab environment from other networks.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Creating simple Ansible playbooks</strong></p>
</div>
<div class="paragraph">
<p>Ansible playbooks allow you to define a configuration plan or workflow in a structured and readable format (YAML). Here&#8217;s how to create basic tasks for installing software and configuring services:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Create a new directory</strong> for your Ansible projects:</p>
<div class="literalblock">
<div class="content">
<pre>```
mkdir -p ~/ansible-playbooks/lightspeed_demo
cd ~/ansible-playbooks/lightspeed_demo
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Create an inventory file</strong> (e.g., <code>hosts</code>) to define the target RHEL hosts:</p>
<div class="literalblock">
<div class="content">
<pre>```
[lightspeed_targets]
rhel_test_host ansible_host=&lt;your_rhel_server_ip&gt;  # Replace with your RHEL server IP address
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Create a simple Ansible playbook</strong> (e.g., <code>install_software.yml</code>) to install the <code>httpd</code> package on your target RHEL host:</p>
<div class="literalblock">
<div class="content">
<pre>```yaml
---
- name: Install httpd package
  hosts: lightspeed_targets
  become: yes
  tasks:
    - name: Ensure httpd is installed
      yum:
        name: httpd
        state: present
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Run the Ansible playbook</strong> against your target host(s):</p>
<div class="literalblock">
<div class="content">
<pre>```
ansible-playbook install_software.yml
```</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You should now see <code>httpd</code> installed on your RHEL test server, confirmed by checking its status:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">sudo systemctl status httpd</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Running Ansible Lightspeed commands</strong></p>
</div>
<div class="paragraph">
<p>To leverage the capabilities of Ansible Lightspeed in your playbooks or ad-hoc commands, you can use the following steps as examples:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Inspect system compliance</strong>: Use the <code>ansible-lightspeed inspect</code> command to analyze a target system&#8217;s configuration and find deviations from best practices or recommended settings.</p>
<div class="literalblock">
<div class="content">
<pre>```bash
ansible lightspeed_targets -m ansible.builtin.setup | ansible-lightspeed inspect
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Get recommendations</strong>: Use the <code>ansible-lightspeed recommend</code> command to receive suggestions for improving your system’s security, performance, and compliance based on industry best practices and Red Hat&#8217;s expertise.</p>
<div class="literalblock">
<div class="content">
<pre>```bash
ansible lightspeed_targets -m ansible.builtin.setup | ansible-lightspeed recommend
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Apply remediation</strong>: Use the <code>ansible-lightspeed remediate</code> command to automatically apply suggested fixes or changes to your target systems, enhancing their compliance and security posture. Be cautious when applying remediations in production environments; always test them thoroughly first.</p>
<div class="literalblock">
<div class="content">
<pre>```bash
ansible lightspeed_targets -m ansible.builtin.setup | ansible-lightspeed remediate --ask-yes
```</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Validating and troubleshooting Ansible playbook executions</strong></p>
</div>
<div class="paragraph">
<p>After running your Ansible playbooks or Lightspeed commands, it&#8217;s essential to validate the results and troubleshoot any issues that might arise:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check playbook execution status</strong>: Monitor the output of your Ansible playbook runs for success or failure messages.</p>
<div class="literalblock">
<div class="content">
<pre>```bash
ansible-playbook install_software.yml --check
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Inspect task results</strong>: Use the <code>--verbose</code> flag to get detailed output about each task executed in a playbook.</p>
<div class="literalblock">
<div class="content">
<pre>```bash
ansible-playbook install_software.yml -vvv
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Troubleshoot common issues</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Ensure proper network connectivity between your control node and target hosts.</p>
</li>
<li>
<p>Verify that required packages (like <code>ansible</code> and <code>openstack-ansible-lightspeed</code>) are installed correctly on both control nodes and target systems.</p>
</li>
<li>
<p>Double-check inventory files (<code>hosts</code>, group variables, etc.) for accurate host definitions and settings.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>By following these steps, you&#8217;ll have a functional lab environment set up for practicing Ansible Lightspeed commands and learning how to automate system management tasks on RHEL systems effectively. As you progress through the content, continue exploring more advanced features and use cases of Ansible Lightspeed within your lab setup.</p>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="hands-on-labs-with-ansible-lightspeed.html">Hands-on Labs with Ansible Lightspeed</a></span>
  <span class="next"><a href="installing-necessary-software-packages-ansible-rhel.html">Installing necessary software packages (Ansible, RHEL)</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
